<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mumbai Elite | Single Window Portal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-storage-compat.js"></script>

    <style>
        :root { --orange: #f37021; --blue: #0072bc; --magenta: #d81b60; --purple: #6a1b9a; --green: #2e7d32; --bg: #f4f7f6; }
        body { font-family: 'Roboto', sans-serif; margin: 0; background: var(--bg); color: #333; overflow-x: hidden; }
        
        /* Navigation logic */
        .page { display: none; min-height: 100vh; animation: fadeIn 0.4s ease; }
        .active-page { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        header { background: white; padding: 12px 5%; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 1000; }
        .logo h1 { font-size: 22px; color: var(--blue); margin: 0; text-transform: uppercase; font-weight: 900; }
        .login-btn { background: var(--orange); color: white; padding: 7px 20px; border-radius: 20px; text-decoration: none; font-weight: bold; font-size: 14px; border:none; cursor:pointer; }

        .hero { background: linear-gradient(135deg, #004a80, #0072bc); color: white; padding: 40px 5%; display: flex; justify-content: space-between; align-items: center; }
        .hero h2 { font-size: 28px; margin: 0; }
        
        .action-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; padding: 25px 5%; }
        .action-item { color: white; padding: 20px 10px; border-radius: 8px; font-size: 12px; font-weight: bold; text-align: center; cursor: pointer; display: flex; flex-direction: column; gap: 8px; align-items: center; transition: 0.3s; }
        .bg-magenta { background: var(--magenta); }
        .bg-orange { background: var(--orange); }
        .bg-purple { background: var(--purple); }
        .bg-green { background: var(--green); }

        .form-container { background: white; padding: 30px; margin: 20px 5%; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); text-align: center; }
        input { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        .submit-btn { width: 100%; padding: 14px; background: var(--orange); color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }
        .back-btn { background: none; border: none; color: var(--blue); cursor: pointer; font-weight: bold; margin-bottom: 20px; }
    </style>
</head>
<body>

<div id="homePage" class="page active-page">
    <header>
        <div class="logo"><h1>Mumbai Elite</h1></div>
        <button class="login-btn" onclick="navigateTo('loginPage')">LOGIN</button>
    </header>
    <div class="hero">
        <div><h2>Elite Portal</h2><p>Unified Platform for Social Networking</p></div>
        <img src="https://images.unsplash.com/photo-1566552881560-0be862a7c445?w=100" style="border-radius: 50%; border: 3px solid white;">
    </div>
    <div class="action-grid">
        <div class="action-item bg-magenta" onclick="navigateTo('statusPage')"><i class="fa-solid fa-magnifying-glass-chart fa-2x"></i> STATUS</div>
        <div class="action-item bg-orange" onclick="navigateTo('registerPage', 'partner')"><i class="fa-solid fa-crown fa-2x"></i> PARTNER SIGNUP</div>
        <div class="action-item bg-purple" onclick="navigateTo('loginPage')"><i class="fa-solid fa-id-card fa-2x"></i> DASHBOARD</div>
        <div class="action-item bg-green" onclick="navigateTo('registerPage', 'citizen')"><i class="fa-solid fa-user-plus fa-2x"></i> CITIZEN SIGNUP</div>
    </div>
</div>

<div id="registerPage" class="page">
    <div class="form-container">
        <button class="back-btn" onclick="navigateTo('homePage')"><i class="fa-solid fa-arrow-left"></i> Home</button>
        <h3 id="regTitle" style="color:var(--blue)">Create Account</h3>
        <input type="text" id="regName" placeholder="Full Name">
        <input type="tel" id="regPhone" placeholder="Mobile Number">
        <input type="email" id="regEmail" placeholder="Email Address">
        <input type="password" id="regPass" placeholder="Password">
        <button class="submit-btn" onclick="handleAuth('signup')">CREATE ACCOUNT</button>
    </div>
</div>

<div id="loginPage" class="page">
    <div class="form-container">
        <button class="back-btn" onclick="navigateTo('homePage')"><i class="fa-solid fa-arrow-left"></i> Home</button>
        <h3 style="color:var(--blue)">User Login</h3>
        <input type="email" id="loginEmail" placeholder="Email Address">
        <input type="password" id="loginPass" placeholder="Password">
        <button class="submit-btn" style="background:var(--blue)" onclick="handleAuth('login')">LOGIN NOW</button>
    </div>
</div>

<div id="statusPage" class="page">
    <div class="form-container">
        <button class="back-btn" onclick="navigateTo('homePage')"><i class="fa-solid fa-arrow-left"></i> Home</button>
        <h3 style="color:var(--magenta)">Check Status</h3>
        <input type="tel" id="trackNo" placeholder="Registered Mobile Number">
        <button class="submit-btn" style="background:var(--magenta)" onclick="alert('Searching...')">SEARCH</button>
    </div>
</div>

<footer><p>Â© 2026 Mumbai Elite | Secure Gateway</p></footer>

<script>
    // --- 1. FIREBASE CONFIGURATION (SET WITH YOUR REAL SDK) ---
    const firebaseConfig = {
        apiKey: "AIzaSyA8O4kOinBczBQ8r9mbtOdH98X70ezpgYk",
        authDomain: "new-prototype-s7zo4.firebaseapp.com",
        projectId: "new-prototype-s7zo4",
        storageBucket: "new-prototype-s7zo4.firebasestorage.app",
        messagingSenderId: "406938721232",
        appId: "1:406938721232:web:abfd93d796d2d37c5af7d5",
        measurementId: "G-75EJ0PT6YN"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    let currentRole = 'citizen';

    function navigateTo(pageId, role = 'citizen') {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active-page'));
        document.getElementById(pageId).classList.add('active-page');
        if(pageId === 'registerPage') {
            currentRole = role;
            document.getElementById('regTitle').innerText = (role === 'partner') ? "Partner Registration" : "Citizen Registration";
        }
    }

    async function handleAuth(type) {
        if(type === 'signup') {
            const name = document.getElementById('regName').value;
            const email = document.getElementById('regEmail').value;
            const pass = document.getElementById('regPass').value;
            const phone = document.getElementById('regPhone').value;

            if(!email || !pass || !name) return alert("Please fill all details.");

            try {
                const userCredential = await auth.createUserWithEmailAndPassword(email, pass);
                const uid = userCredential.user.uid;

                await db.collection("Users").doc(uid).set({
                    name, email, phone, role: currentRole,
                    timestamp: firebase.firestore.FieldValue.serverTimestamp()
                });

                alert("Success! Account Created.");
                navigateTo('homePage');
            } catch (e) { alert("Firebase Error: " + e.message); }
        } else {
            const email = document.getElementById('loginEmail').value;
            const pass = document.getElementById('loginPass').value;
            auth.signInWithEmailAndPassword(email, pass)
                .then(() => alert("Logged In!"))
                .catch(e => alert(e.message));
        }
    }
</script>

</body>
</html>

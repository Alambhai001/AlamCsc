<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Aftab Store App</title>

<link rel="manifest" href="manifest.json">
<link rel="apple-touch-icon" href="icon.png">

<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

<style>

body{
font-family:Arial;
margin:0;
background:#eef2f3;
}

header{
background:#28a745;
color:white;
padding:15px;
text-align:center;
font-size:20px;
}

.box{
background:white;
margin:12px;
padding:15px;
border-radius:10px;
}

input,textarea,button{
width:100%;
padding:10px;
margin:5px 0;
}

button{
background:#28a745;
color:white;
border:none;
border-radius:6px;
}

</style>
</head>

<body>

<header>ðŸ›’ Aftab Store</header>

<!-- LOGIN -->
<div id="loginBox" class="box">

<h3>Login</h3>

<input id="email" placeholder="Email">
<input id="pass" type="password" placeholder="Password">

<button onclick="login()">Login</button>

<p id="msg"></p>

</div>


<!-- STORE -->
<div id="storeBox" class="box" style="display:none">

<h3>Order</h3>

<input id="name" placeholder="Name">
<input id="mobile" placeholder="Mobile">
<textarea id="address" placeholder="Address"></textarea>

<hr>

Milk (â‚¹60)
<input id="m1" type="number" value="0">

Rice (â‚¹50)
<input id="r1" type="number" value="0">

<br><br>

<button onclick="sendOrder()">Order on WhatsApp</button>

<button onclick="logout()" style="background:red">Logout</button>

</div>


<script>

// FIREBASE
firebase.initializeApp({
apiKey: "AIzaSyA8O4kOinBczBQ8r9mbtOdH98X70ezpgYk",
authDomain: "new-prototype-s7zo4.firebaseapp.com",
projectId: "new-prototype-s7zo4"
});

const auth=firebase.auth();
const db=firebase.firestore();


// LOGIN
async function login(){

let email=document.getElementById("email").value;
let pass=document.getElementById("pass").value;

try{

await auth.signInWithEmailAndPassword(email,pass);

document.getElementById("loginBox").style.display="none";
document.getElementById("storeBox").style.display="block";

}catch{
document.getElementById("msg").innerText="Wrong Login";
}

}


// LOGOUT
function logout(){

auth.signOut();

document.getElementById("loginBox").style.display="block";
document.getElementById("storeBox").style.display="none";

}


// ORDER
function sendOrder(){

let name=name=document.getElementById("name").value;
let mobile=document.getElementById("mobile").value;
let address=document.getElementById("address").value;

let m1=document.getElementById("m1").value;
let r1=document.getElementById("r1").value;

let msg="New Order%0A"+
"Name:"+name+"%0A"+
"Mobile:"+mobile+"%0A"+
"Address:"+address+"%0A%0A"+
"Milk:"+m1+"%0A"+
"Rice:"+r1;

window.open("https://wa.me/919336678937?text="+msg);

}

</script>

</body>
</html>

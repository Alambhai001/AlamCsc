async function handleLogin() {

  const email = document.getElementById('loginEmail').value.trim();
  const pass = document.getElementById('loginPass').value.trim();

  if(!email || !pass){
    document.getElementById("msg").innerHTML="Fill all fields";
    return;
  }

  try {

    const userCred = await auth.signInWithEmailAndPassword(email, pass);

    const doc = await db.collection("Users")
                       .doc(userCred.user.uid)
                       .get();

    if(!doc.exists){
      await auth.signOut();
      document.getElementById("msg").innerHTML="Profile not found";
      return;
    }

    const data = doc.data();

    // üö´ Block Check
    if(data.status === "Blocked"){
      await auth.signOut(); // logout
      document.getElementById("msg").innerHTML="Account Blocked ‚ùå";
      return;
    }

    // ‚úÖ Redirect
    window.location.href = "dashboard.html";

  } catch(e) {

    document.getElementById("msg").innerHTML="Wrong Email or Password";

  }
}
